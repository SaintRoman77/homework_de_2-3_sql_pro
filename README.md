# homework_de_2-3_sql

### Описание:

Docker-контейнер для homework_de_2-3_sql. Создает БД библиотеки, наполняет ее данными, выполняет запросы по заданию (описание задач ниже).

### Шаблон наполнения env-файла:

Создайте файл .env с переменными окружения для работы с базой данных:

```
POSTGRES_PASSWORD=postgres # пароль для подключения к БД (установите свой)
POSTGRES_USER=postgres # логин для подключения к базе данных
POSTGRES_DB=testdb # название базы данных
```

### Команды для запуска приложения в контейнерах:

Собрать контейнер (из папки infra):

```
docker-compose up -d --build
```

Остановить контейнер:

```
docker stop ID-контейнера
```

Запустить контейнер:

```
docker run ID-контейнера
```

Подключиться к работающему контейнеру, запускать интерфейс psql и вносить новые данные:

```
docker exec -it infra-db-1 psql -U postgres testdb
```

### Описание sql-запросов к БД(файл queries.sql):

```
1. Определить, сколько книг прочитал каждый читатель в текущем году. Вывести рейтинг читателей по убыванию.
```

```
2. Определить, сколько книг у читателей на руках на текущую дату.
```

```
3. Определить читателей, у которых на руках определенная книга.
```

```
4. Определите, какие книги на руках читателей.
```

```
5. Вывести количество должников на текущую дату.
```

```
6. Книги какого издательства были самыми востребованными у читателей? Отсортируйте издательства по убыванию востребованности книг.
```

```
7. Определить самого издаваемого автора.
```

```
8. Определить среднее количество прочитанных страниц читателем за день.
```
